jQuery((function($){$(window).on("scroll",(function(){$(this).scrollTop()>100&&!$("#stickyheader").hasClass("open")?$("#stickyheader").addClass("open").slideDown():$(this).scrollTop()<=100&&$("#stickyheader").removeClass("open").slideUp()}));var e=$("#main");e.length||(e=$(".wrapper"));var t=$(".piece-trigger"),n=t.map((function(){return $(this).data("overlay")})).get(),a=null,i=null,o=-1;function r(e){return e.find('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])').filter(":visible")}function l(e){e.length&&(a=e,e.stop(!0,!0).css("display","none").attr("aria-hidden","false").fadeIn(200,(function(){var t=e.find(".overlay-close").first();if(t.length)t.focus();else{var n=r(e);n.length?n.first().focus():e.attr("tabindex","-1").focus()}})))}function s(e){if(n.length){e<0?e=n.length-1:e>=n.length&&(e=0);var t=n[e],i=$("#"+t);if(i.length){var r=a;o=e,r&&r[0]!==i[0]&&r.stop(!0,!0).fadeOut(200,(function(){r.attr("aria-hidden","true").hide()})),l(i)}}}function d(){a&&(a.attr("aria-hidden","true").fadeOut(200,(function(){i&&i.length&&i.focus()})),e.removeAttr("aria-hidden"),a=null,o=-1)}t.on("click",(function(t){t.preventDefault();var a=$(this).data("overlay");if(a){var r=n.indexOf(a);-1===r&&(r=0);var s=$("#"+a);s.length&&function(t,n){t.length&&(i=$(document.activeElement),o=n,e.attr("aria-hidden","true"),l(t))}(s,r)}})),$(".piece-overlay").on("click",".overlay-close",(function(e){e.preventDefault(),d()})),$(".piece-overlay").on("click",(function(e){e.target===this&&d()})),$(".piece-overlay").on("click",".overlay-next",(function(e){if(e.preventDefault(),-1===o&&a){var t=a.attr("id"),i=n.indexOf(t);-1!==i&&(o=i)}-1!==o&&s(o+1)})),$(".piece-overlay").on("click",".overlay-prev",(function(e){if(e.preventDefault(),-1===o&&a){var t=a.attr("id"),i=n.indexOf(t);-1!==i&&(o=i)}-1!==o&&s(o-1)})),$(document).on("keydown",(function(e){if(a){var t="Escape"===e.key||27===e.keyCode,i="Tab"===e.key||9===e.keyCode,l="ArrowRight"===e.key||39===e.keyCode,c="ArrowLeft"===e.key||37===e.keyCode;if(t)return e.preventDefault(),void d();if(l||c){if(e.preventDefault(),-1===o&&a){var f=a.attr("id"),u=n.indexOf(f);-1!==u&&(o=u)}-1!==o&&(l?s(o+1):c&&s(o-1))}else if(i){var h=r(a);if(!h.length)return;var p=h[0],v=h[h.length-1];e.shiftKey?document.activeElement===p&&(e.preventDefault(),v.focus()):document.activeElement===v&&(e.preventDefault(),p.focus())}}}));var c=$(".parallax-img");c.length&&(c.css("transform","translate(-50%, 0)"),$(window).on("scroll.parallax",(function(){if(window.innerWidth<890)c.css("transform","translate(-50%, 0)");else{var e=.3*$(this).scrollTop();c.css("transform","translate(-50%, "+e+"px)")}})),$(window).on("resize.parallax",(function(){window.innerWidth<890&&c.css("transform","translate(-50%, 0)")})).trigger("resize.parallax"))})),function(){const e=document.getElementById("galaxy-bg");if(!e)return;const t=e.getContext("2d"),n=window.devicePixelRatio||1;let a,i=[],o=0,r=0,l=0,s=0,d=window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;const c=4e-4;function f(){o=window.innerWidth,r=window.innerHeight,e.width=o*n,e.height=r*n,t.setTransform(n,0,0,n,0,0),l=o/2,s=r/2,function(){i=[];const e=Math.sqrt(o*o+r*r)/2*.75;for(let t=0;t<550;t++){const t=Math.random(),n=Math.pow(t,.5)*e,a=Math.random()*Math.PI*2,o=.7+1.8*Math.random(),r=c*(.3+1.7*Math.random()),l=[210,230,260,290,320],s=l[Math.floor(Math.random()*l.length)],d=60+20*Math.random(),f=60+20*Math.random();i.push({radius:n,angle:a,size:o,speed:r,hue:s,saturation:d,lightness:f})}}()}function u(){const e=t.createRadialGradient(l,s,0,l,s,Math.max(o,r));e.addColorStop(0,"#050814"),e.addColorStop(.6,"#040612"),e.addColorStop(1,"#03040f"),t.fillStyle=e,t.fillRect(0,0,o,r)}function h(e){const n=l+Math.cos(e.angle)*e.radius,a=s+Math.sin(e.angle)*e.radius,i=e.size,o=t.createRadialGradient(n,a,0,n,a,3*i),r=`hsla(${e.hue}, ${e.saturation}%, ${e.lightness}%, 1)`,d=`hsla(${e.hue}, ${e.saturation}%, ${e.lightness+10}%, 0)`;o.addColorStop(0,r),o.addColorStop(1,d),t.fillStyle=o,t.beginPath(),t.arc(n,a,3*i,0,2*Math.PI),t.fill()}function p(){t.globalCompositeOperation="source-over",t.fillStyle="rgba(2, 3, 14, 0.35)",t.fillRect(0,0,o,r),u(),t.globalCompositeOperation="lighter";for(const e of i)d||(e.angle+=e.speed),h(e);d||(a=requestAnimationFrame(p))}function v(){cancelAnimationFrame(a),d?function(){t.clearRect(0,0,o,r),u(),t.globalCompositeOperation="lighter";for(const e of i)h(e)}():p()}let g;if(window.addEventListener("resize",(()=>{clearTimeout(g),g=setTimeout((()=>{f(),v()}),150)})),window.matchMedia){window.matchMedia("(prefers-reduced-motion: reduce)").addEventListener("change",(e=>{d=e.matches,v()}))}f(),v()}();